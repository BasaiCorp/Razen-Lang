type freestyle;

# Libraries import
lib validation;
lib uuid;
lib timelib;

# Models name declaration
take product = "Claude API Key";
take model1 = "Claude 3.7 Sonnet";
take model2 = "Claude 3.7 Haiku";
take model3 = "Claude 3.5 Sonnet";

# Models price declaration
let keyPrice = 40;
let model1Price = 50;
let model2Price = 35;
let model3Price = 40;

# Wallet
let wallet = 0;

show "Username:";
#read username;
show "First Name:";
take first_name = "Prathmesh ";
#read first_name;
show "Last Name:";
take last_name = "Barot";
#read last_name;
show "e-mail:";
put email = "prathmeshbarot2009@gmail.com";
#read email;
show "Password:";
put password = "Prathmes"
#read password;

if (Validation[email](email)) {
    show "Success";
    if (Validation[min_length](password, 8)) {
        hold isNew = true;
        show "Welcome " + first_name + last_name;
    } else {
        hold isNew = false;
    }
} else {
    hold isNew = false;
}

if (isNew) {
    sum wallet = wallet + 90;
    show "Surprise " + wallet + " Credits are credited to your wallet..!";
} else {
    show "sorry you are old user!";
}

class MainMenu {
    show "Main Menu";
    show "0: exit"
    show "1: " + product;
    show "2: Models";
}

read choise;

if (choise == 1) {
    load (2) {
        show "Conecting to Server";
        show "Conecting to Server.";
        show "Conecting to Server..";
        show "Conecting to Server...";
        show "Conecting to Server....";
    }
    show "Connected to Server!"
    if (wallet >= keyPrice) {
        show product + "'s Price is " + keyPrice + " Credits/Month";
        show "Want to buy? (y/n)";
        read confirm;
        if (confirm == "y") {
            load (3) {
                show "Loading";
                show "Loading.";
                show "Loading..";
                show "Loading...";
                show "Loading....";
            }
            show "Purchase Successfull"
            show "Your API Key UUID is " + UUID[generate]();
            diff wallet = wallet - keyPrice;
            show wallet;
            navigate to MainMenu;
        } else {
            show "Purchase Cancelled";
            navigate to MainMenu;
        }
    } else {
        show "Not enough Credits";
        navigate to MainMenu;
    }
} else {
    show wallet;
}

if (choise == 2) {
    load (2) {
        show "Conecting to Server";
        show "Conecting to Server.";
        show "Conecting to Server..";
        show "Conecting to Server...";
        show "Conecting to Server....";
    }
    show "Connected to Server!"
    show "Models"
    show "1: " model1;
    show "2: " model2;
    show "3: " model3;
    if (wallet >= model1Price) {
        show product + "'s Price is " + keyPrice + " Credits/Month";
        show "Want to buy? (y/n)";
        read confirm;
        if (confirm == "y") {
            load (3) {
                show "Loading";
                show "Loading.";
                show "Loading..";
                show "Loading...";
                show "Loading....";
            }
            show "Purchase Successfull"
            show model1 + "is now added to your account for a Month"
            diff wallet = wallet - keyPrice;
            show wallet;
            navigate to MainMenu;
        } else {
            show "Purchase Cancelled";
            navigate to MainMenu;
        }
    } else {
        show "Not enough Credits";
        navigate to MainMenu;
    }
} else {
    show wallet;
}

if (choise == 0) {
    exit;
}

